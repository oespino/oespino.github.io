(function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],d=0,u=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&u.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);g&&g(t);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},s={app:0},n=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/swagger-compare/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var g=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},3739:function(e,t,a){"use strict";a("8736")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Swagger Logo",contain:"",src:e.publicPath+"swagger-logo.png",transition:"scale-transition",width:"40"}}),a("v-app-bar-title",[e._v(" Swagger Compare ")])],1),a("v-spacer")],1),a("v-main",[a("router-view")],1)],1)},n=[],i={name:"App",data:function(){return{publicPath:"/swagger-compare/"}}},o=i,l=a("2877"),c=a("6544"),g=a.n(c),d=a("7496"),u=a("40dc"),f=a("bb78"),v=a("adda"),p=a("f6c4"),w=a("2fa4"),b=Object(l["a"])(o,s,n,!1,null,null,null),h=b.exports;g()(b,{VApp:d["a"],VAppBar:u["a"],VAppBarTitle:f["a"],VImg:v["a"],VMain:p["a"],VSpacer:w["a"]});var m=a("f309"),T=a("fcf4");r["a"].use(m["a"]);var S=new m["a"]({theme:{themes:{light:{primary:T["a"].lightGreen},dark:{primary:T["a"].lightGreen}}}}),x=a("8c4f"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("SwaggerCompare")},O=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("SwaggerInput",{attrs:{swaggers:e.swaggers},on:{swaggersChanged:e.cleanItems}}),a("v-row",{staticClass:"mb-10",attrs:{justify:"center"}},[a("v-btn",{attrs:{disabled:!e.swaggers.swagger1||!e.swaggers.swagger2},on:{click:e.compareSwaggers}},[e._v("Comparar")])],1),a("v-divider"),a("v-tabs",{attrs:{grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab",{key:"0"},[e._v("Tabla")]),a("v-tab",{key:"1"},[e._v("Árbol")]),a("v-tab",{key:"2"},[e._v("SwaggerUI Antiguo")]),a("v-tab",{key:"3"},[e._v("SwaggerUI Nuevo")])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{key:"0",attrs:{eager:""}},[a("TableWithFilter",{ref:"tableWithFilter",attrs:{itemsTable:e.itemsTable}})],1),a("v-tab-item",{key:"1",attrs:{eager:""}},[a("TreeWithStyles",{attrs:{items:e.itemsTree}})],1),a("v-tab-item",{key:"2",attrs:{eager:""}},[e.swaggers.swagger1?a("SwaggerUI",{key:e.swaggers.swaggersKey,attrs:{swagger:e.swaggers.swagger1,id:"swagger1"}}):e._e()],1),a("v-tab-item",{key:"3",attrs:{eager:""}},[e.swaggers.swagger2?a("SwaggerUI",{key:e.swaggers.swaggersKey,attrs:{swagger:e.swaggers.swagger2,id:"swagger2"}}):e._e()],1)],1)],1)},j=[],C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{staticClass:"mb-2 mt-2",attrs:{justify:"center"}},[a("v-col",[a("v-row",{attrs:{justify:"center"}},[a("v-btn",{on:{click:e.openDialogSwagger1}},[e._v("Cargar swagger antiguo")])],1)],1),a("v-col",[a("v-row",{attrs:{justify:"center"}},[a("v-btn",{on:{click:e.openDialogSwagger2}},[e._v("Cargar swagger nuevo")])],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"900"},model:{value:e.dialogSwagger1,callback:function(t){e.dialogSwagger1=t},expression:"dialogSwagger1"}},[a("v-card",[a("v-card-text",[a("v-textarea",{attrs:{rows:"15",error:e.swagger1TextError,errorMessages:e.swagger1TextErrorMessages},model:{value:e.swagger1Text,callback:function(t){e.swagger1Text=t},expression:"swagger1Text"}})],1),a("v-card-actions",{staticClass:"pb-5 justify-center"},[a("v-btn",{on:{click:e.parseSwagger1}},[e._v("Aceptar")]),a("v-btn",{on:{click:e.closeDialogSwagger1}},[e._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"900"},model:{value:e.dialogSwagger2,callback:function(t){e.dialogSwagger2=t},expression:"dialogSwagger2"}},[a("v-card",[a("v-card-text",[a("v-textarea",{attrs:{rows:"15",error:e.swagger2TextError,errorMessages:e.swagger2TextErrorMessages},model:{value:e.swagger2Text,callback:function(t){e.swagger2Text=t},expression:"swagger2Text"}})],1),a("v-card-actions",{staticClass:"pb-5 justify-center"},[a("v-btn",{on:{click:e.parseSwagger2}},[e._v("Aceptar")]),a("v-btn",{on:{click:e.closeDialogSwagger2}},[e._v("Cancelar")])],1)],1)],1)],1)},k=[],E={name:"SwaggerInput",props:{swaggers:{swagger1:Object,swagger2:Object}},data:function(){return{dialogSwagger1:!1,dialogSwagger2:!1,swagger1Text:"",swagger1TextError:!1,swagger1TextErrorMessages:"",swagger2Text:"",swagger2TextError:!1,swagger2TextErrorMessages:""}},methods:{openDialogSwagger1:function(){this.dialogSwagger1=!0,this.swagger1Text=this.swaggers.swagger1?JSON.stringify(this.swaggers.swagger1):""},openDialogSwagger2:function(){this.dialogSwagger2=!0,this.swagger2Text=this.swaggers.swagger2?JSON.stringify(this.swaggers.swagger2):""},closeDialogSwagger1:function(){this.dialogSwagger1=!1},closeDialogSwagger2:function(){this.dialogSwagger2=!1},parseSwagger1:function(){try{this.swaggers.swagger1=JSON.parse(this.swagger1Text),this.dialogSwagger1=!1,this.$emit("swaggersChanged")}catch(e){this.swagger1TextError=!0,this.swagger1TextErrorMessages="Formato de JSON no válido"}},parseSwagger2:function(){try{this.swaggers.swagger2=JSON.parse(this.swagger2Text),this.dialogSwagger2=!1,this.$emit("swaggersChanged")}catch(e){this.swagger2TextError=!0,this.swagger2TextErrorMessages="Formato de JSON no válido"}}}},V=E,I=a("8336"),A=a("b0af"),N=a("99d9"),M=a("62ad"),D=a("a523"),F=a("169a"),P=a("0fd9"),J=a("a844"),$=Object(l["a"])(V,C,k,!1,null,null,null),R=$.exports;g()($,{VBtn:I["a"],VCard:A["a"],VCardActions:N["a"],VCardText:N["b"],VCol:M["a"],VContainer:D["a"],VDialog:F["a"],VRow:P["a"],VTextarea:J["a"]});var W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{staticClass:"mt-10"},[a("v-col",{attrs:{cols:"10"}},[a("v-radio-group",{attrs:{row:""},on:{change:e.filterTable},model:{value:e.filterSelected,callback:function(t){e.filterSelected=t},expression:"filterSelected"}},[a("v-radio",{attrs:{label:"Todo",value:"todo"}}),a("v-radio",{attrs:{label:"Seguridad",value:"seguridad"}}),a("v-radio",{attrs:{label:"Métodos",value:"metodos"}}),a("v-radio",{attrs:{label:"Parámetros IN",value:"parametrosIn"}}),a("v-radio",{attrs:{label:"Parámetros OUT",value:"parametrosOut"}})],1)],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{on:{click:function(t){return e.downloadCSV()}}},[e._v("Descargar a CSV")])],1)],1),a("v-row",{staticClass:"mt-10"},[a("v-col",[a("v-data-table",{staticClass:"fixed-width-table",attrs:{items:e.filteredItemsTable,"item-key":"id",headers:e.headersTable,"show-expand":""},scopedSlots:e._u([{key:"item.parts",fn:function(t){var r=t.item;return e._l(r.parts,(function(t){return a("span",{key:t.id,class:t.added?"green--text":t.removed?"red--text text-decoration-line-through":"black--text"},[e._v(e._s(t.value))])}))}},{key:"item.action",fn:function(t){var r=t.item;return[a("span",{class:"Añadido"===r.action?"green--text":"Eliminado"===r.action?"red--text":"black--text"},[e._v(e._s(r.action))])]}},{key:"expanded-item",fn:function(t){var r=t.headers,s=t.item;return[a("td",{attrs:{colspan:r.length}},e._l(s.fullParts,(function(t){return a("span",{key:t.id,class:t.added?"green--text":t.removed?"red--text text-decoration-line-through":"black--text"},[e._v(e._s(t.value))])})),0)]}}])})],1)],1),a("v-row")],1)},U=[],B=(a("4de4"),a("a15b"),a("d81d"),a("99af"),{downloadToCSV:function(e){var t="data:text/csv;charset=utf-8,%EF%BB%BF",a="Path;Acción;Antes;Después;\n"+e.map((function(e){return'"'.concat(e.path,'";"').concat(e.action,'";').concat(e.before,";").concat(e.after,";")})).join("\n"),r=t+encodeURIComponent(a),s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download","compare.csv"),document.body.appendChild(s),s.click()}}),L=/x-/,K=/\.paths \.\/(\w|\{|\}|\/)*( \.\w+)?$/,G=/\.parameters/,q=/\.responses/,H={name:"TableWithFilter",props:{itemsTable:Array},data:function(){return{filterSelected:"todo",filteredItemsTable:[],headersTable:[{text:"Ruta",value:"path",width:"33%"},{text:"Acción",value:"action",width:"33%"},{text:"Diferencia",value:"parts",width:"34%"}]}},methods:{filterTable:function(){var e=this;this.filteredItemsTable=this.itemsTable.filter((function(t){var a=!1;return"todo"===e.filterSelected&&(a=!0),"seguridad"===e.filterSelected&&L.test(t.path)&&(a=!0),"metodos"===e.filterSelected&&K.test(t.path)&&(a=!0),"parametrosIn"===e.filterSelected&&G.test(t.path)&&(a=!0),"parametrosOut"===e.filterSelected&&q.test(t.path)&&(a=!0),a}))},cleanTable:function(){this.filteredItemsTable=[]},resetFilter:function(e){this.filterSelected="todo",this.filteredItemsTable=e},downloadCSV:function(){B.downloadToCSV(this.filteredItemsTable)}}},z=H,Q=(a("3739"),a("8fea")),X=a("67b6"),Y=a("43a6"),Z=Object(l["a"])(z,W,U,!1,null,null,null),ee=Z.exports;g()(Z,{VBtn:I["a"],VCol:M["a"],VContainer:D["a"],VDataTable:Q["a"],VRadio:X["a"],VRadioGroup:Y["a"],VRow:P["a"]});var te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"mt-10"},[a("v-treeview",{attrs:{items:e.items},scopedSlots:e._u([{key:"label",fn:function(t){var r=t.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[a("span",e._g(e._b({},"span",n,!1),s),[a("span",{class:r.color},[e._v(e._s(r.name))]),r.parts?a("span",[e._v('"')]):e._e(),e._l(r.parts,(function(t){return a("span",{key:t.id,class:t.added?"green--text":t.removed?"red--text text-decoration-line-through":"black--text"},[e._v(e._s(t.value))])})),r.parts?a("span",[e._v('"')]):e._e()],2)]}}],null,!0)},[a("v-row",[r.parts?a("v-col",e._l(r.parts,(function(t){return a("span",{key:t.id,class:t.added?"green--text":t.removed?"red--text text-decoration-line-through":"white--text"},[e._v(e._s(t.value))])})),0):e._e(),r.before?a("v-col",{staticClass:"text--lighten-3 red--text"},[e._v(e._s(r.before))]):e._e(),r.after?a("v-col",{staticClass:"text--lighten-2 green--text"},[e._v(e._s(r.after))]):e._e(),r.both?a("v-col",{staticClass:"white--text"},[e._v(e._s(r.both))]):e._e()],1)],1)]}}])})],1)},ae=[],re={name:"TreeWithStyles",props:{items:Array}},se=re,ne=a("3a2f"),ie=a("eb2a"),oe=Object(l["a"])(se,te,ae,!1,null,null,null),le=oe.exports;g()(oe,{VCol:M["a"],VRow:P["a"],VTooltip:ne["a"],VTreeview:ie["a"]});var ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"swagger-container"}},[a("div",{staticClass:"swagger",attrs:{id:e.id}})])},ge=[],de=a("e2fc"),ue=a.n(de),fe=(a("27a4"),{name:"SwaggerUI",props:{id:String,swagger:Object},mounted:function(){var e=this.swagger;ue()({spec:e,dom_id:"#".concat(this.id)})}}),ve=fe,pe=(a("e913"),Object(l["a"])(ve,ce,ge,!1,null,null,null)),we=pe.exports,be=a("b85c"),he=a("53ca"),me=(a("b64b"),a("caad"),a("2532"),a("7db0"),a("b0c0"),a("d3b7"),a("25f0"),a("13d5"),a("11c1")),Te=a("bf68"),Se={MODIFICADO:"orange--text",NUEVO:"green--text",ELIMINADO:"red--text",NORMAL:"black--text",NORMAL_CLARO:"white--text"},xe={compareSwaggersObject:function(e,t,a,r,s,n){var i=!0;if(Array.isArray(e)&&Array.isArray(t))i=this.compareSwaggersArray(e,t,a,r,s,n);else{for(var o=Object.keys(e),l=Object.keys(t),c=0,g=o;c<g.length;c++){var d=g[c];if(l.includes(d)){var u="object"===Object(he["a"])(e[d]),f=this.addModifiedElementToTree(d,a,u,e[d],t[d],r,n);i&=f;var v=s&&!u&&!f;this.addModifiedElementToTable(d,r,v,e[d],t[d],n)}else{i=!1;var p="object"===Object(he["a"])(e[d]);this.addDeletedElementToTree(d,a,p,e[d],r,n),this.addDeletedElementToTable(d,r,s,JSON.stringify(e[d],null,1),"",n)}}for(var w=0,b=l;w<b.length;w++){var h=b[w];if(!o.includes(h)){i=!1;var m="object"===Object(he["a"])(t[h]);this.addNewElementToTree(h,a,m,t[h],r,n),this.addNewElementToTable(h,r,s,"",JSON.stringify(t[h],null,1),n)}}}return i},compareSwaggersArray:function(e,t,a,r,s,n){var i=this;" .paths ./{customerId}/details .get .responses .200 .schema .properties .details .items .required"===r&&console.log({node1:e,node2:t,path:r});var o,l=!0,c=Object(be["a"])(e);try{var g=function(){var e=o.value,c=t.find((function(t){return"object"===Object(he["a"])(e)&&t.name===e.name||t===e}));if(" .paths ./{customerId}/details .get .responses .200 .schema .properties .details .items .required"===r&&console.log({attr:e,attr2:c}),c){var g="object"===Object(he["a"])(e),d=i.addModifiedElementToTree("[i]",a,g,e,c,r,n);l&=d;var u=s&&!g&&!d;i.addModifiedElementToTable("[i]",r,u,e,c,n)}else{l=!1;var f="object"===Object(he["a"])(e);i.addDeletedElementToTree("[i]",a,f,e,r,n),i.addDeletedElementToTable("[i]",r,s,JSON.stringify(e,null,1),"",n)}};for(c.s();!(o=c.n()).done;)g()}catch(v){c.e(v)}finally{c.f()}var d,u=Object(be["a"])(t);try{var f=function(){var t=d.value,o=e.find((function(e){return e.name===t.name}));if(!o){l=!1;var c="object"===Object(he["a"])(t);i.addNewElementToTree("[i]",a,c,t,r,n),i.addNewElementToTable("[i]",r,s,"",JSON.stringify(t,null,1),n)}};for(u.s();!(d=u.n()).done;)f()}catch(v){u.e(v)}finally{u.f()}return l},addDeletedElementToTree:function(e,t,a,r,s,n){var i={id:Object(me["v4"])(),name:e,color:Se.ELIMINADO};a?(i.children=[],this.compareSwaggersObject(r,{},i.children,"".concat(s," .").concat(e),!1,n)):i.name+=': "'.concat(r,'"'),t.push(i)},addNewElementToTree:function(e,t,a,r,s,n){var i={id:Object(me["v4"])(),name:e,color:Se.NUEVO};a?(i.children=[],this.compareSwaggersObject({},r,i.children,"".concat(s," .").concat(e),!1,n)):i.name+=': "'.concat(r,'"'),t.push(i)},addModifiedElementToTree:function(e,t,a,r,s,n,i){var o,l={id:Object(me["v4"])(),name:e};if(t.push(l),a){l.children=[],o=this.compareSwaggersObject(r,s,l.children,"".concat(n," .").concat(e),!0,i);var c=o?Se.NORMAL:Se.MODIFICADO;l.color=c}else{l.name+=": ",o=r===s;var g=o?Se.NORMAL:Se.MODIFICADO;l.color=g,l.parts=Te["diffWords"](r.toString(),s.toString())}return o},addDeletedElementToTable:function(e,t,a,r,s,n){if(a){var i=[{removed:!0,value:r.toString()}],o=this.filterFirstCharactersOfParts(i,200);n.push({id:Object(me["v4"])(),path:"".concat(t," .").concat(e),action:"Eliminado",before:JSON.stringify(r),after:JSON.stringify(s),parts:o,fullParts:i})}},addNewElementToTable:function(e,t,a,r,s,n){if(a){var i=[{added:!0,value:s.toString()}],o=this.filterFirstCharactersOfParts(i,200);n.push({id:Object(me["v4"])(),path:"".concat(t," .").concat(e),action:"Añadido",before:JSON.stringify(r),after:JSON.stringify(s),parts:o,fullParts:i})}},addModifiedElementToTable:function(e,t,a,r,s,n){if(a){var i=Te["diffWords"](r.toString(),s.toString()),o=this.filterFirstCharactersOfParts(i,200);n.push({id:Object(me["v4"])(),path:"".concat(t," .").concat(e),action:"Modificado",before:JSON.stringify(r),after:JSON.stringify(s),parts:o,fullParts:i})}},filterFirstCharactersOfParts:function(e,t){var a=[],r=!1;return e.reduce((function(e,s){var n=e+s.value.length;if(n<t)a.push(s);else{r=!0;var i={};Object.assign(i,s),i.value=i.value.substring(0,t-e),a.push(i)}return n}),0),(a.length!==e.length||r)&&a.push({value:"..."}),a}},ye={name:"SwaggerCompare",components:{SwaggerInput:R,TableWithFilter:ee,TreeWithStyles:le,SwaggerUI:we},data:function(){return{itemsTree:[],itemsTable:[],tab:0,swaggers:{swaggersKey:0,swagger1:null,swagger2:null}}},methods:{cleanItems:function(){this.swaggers.swaggersKey++,this.itemsTree=[],this.itemsTable=[],this.$refs.tableWithFilter.cleanTable()},compareSwaggers:function(){this.items=[],this.itemsTable=[],this.$refs.tableWithFilter.cleanTable(),xe.compareSwaggersObject(this.swaggers.swagger1,this.swaggers.swagger2,this.itemsTree,"",!0,this.itemsTable),this.$refs.tableWithFilter.resetFilter(this.itemsTable)}}},Oe=ye,_e=a("ce7e"),je=a("71a3"),Ce=a("c671"),ke=a("fe57"),Ee=a("aac8"),Ve=Object(l["a"])(Oe,_,j,!1,null,null,null),Ie=Ve.exports;g()(Ve,{VBtn:I["a"],VContainer:D["a"],VDivider:_e["a"],VRow:P["a"],VTab:je["a"],VTabItem:Ce["a"],VTabs:ke["a"],VTabsItems:Ee["a"]});var Ae={name:"Home",components:{SwaggerCompare:Ie}},Ne=Ae,Me=Object(l["a"])(Ne,y,O,!1,null,null,null),De=Me.exports;r["a"].use(x["a"]);var Fe=[{path:"/",name:"Home",component:De}],Pe=new x["a"]({routes:Fe}),Je=Pe;r["a"].config.productionTip=!1,new r["a"]({vuetify:S,router:Je,render:function(e){return e(h)}}).$mount("#app")},8736:function(e,t,a){},e913:function(e,t,a){"use strict";a("eca4")},eca4:function(e,t,a){}});
//# sourceMappingURL=app.20f80cfe.js.map